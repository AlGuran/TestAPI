1 Установка проекта

Для установки проекта необходимо сгенерировать war-файл (/dist/test.war), и скопировать его в каталог webapps сервера Tomcat. После запуска сервера программа будет ожидать get либо post запросов по http://localhost:8080/test/simple.htm

2 Запуск проекта

Для получения пользователя по id необходимо отправить get-запрос с параметрами action и id, где action=«getUser», id равен id искомого пользователя.

Для получения пользователя по email, нику или логину необходимо отправить get-запрос с параметрами action и search, где action=«findUser», search является точным соответствием email, ника или логина искомого пользователя.

Для обновления email или ника пользователя необходимо отправить post-запрос с параметрами action, id, nick и/или email, где action=«updateUser», id равен id пользователя, nick и/или email новым значением ника или email.

Для присвоения пользователя нового достижения необходимо отправить post-запрос с параметрами action, id, acvieve_id, где action=«setAchieve», id равен id пользователя, acvieve_id равен id достижения.

Для выбора типа возвращаемых данных к запросу требуется добавить параметр type, равный 1 для xml и 2 для json. При отсутствии данного параметра данные возвращаются в формате xml.

3 Структура базы

База включает в себя 3 таблицы.

users
+-------+--------------+------+-----+---------+----------------+
| Field | Type         | Null | Key | Default | Extra          |
+-------+--------------+------+-----+---------+----------------+
| id    | int(11)      | NO   | PRI | NULL    | auto_increment |
| nick  | varchar(40)  | YES  |     | NULL    |                |
| login | varchar(50)  | YES  |     | NULL    |                |
| email | varchar(100) | YES  |     | NULL    |                |
+-------+--------------+------+-----+---------+----------------+

achievements
+-------------+--------------+------+-----+---------+----------------+
| Field       | Type         | Null | Key | Default | Extra          |
+-------------+--------------+------+-----+---------+----------------+
| id          | int(11)      | NO   | PRI | NULL    | auto_increment |
| achievement | varchar(200) | YES  |     | NULL    |                |
+-------------+--------------+------+-----+---------+----------------+

user_achievements
+----------------+---------+------+-----+---------+----------------+
| Field          | Type    | Null | Key | Default | Extra          |
+----------------+---------+------+-----+---------+----------------+
| id             | int(11) | NO   | PRI | NULL    | auto_increment |
| user_id        | int(11) | YES  |     | NULL    |                |
| achievement_id | int(11) | YES  |     | NULL    |                |
+----------------+---------+------+-----+---------+----------------+